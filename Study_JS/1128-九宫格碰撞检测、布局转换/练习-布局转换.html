<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			.list{
				position: relative;
				margin: 100px auto;
				list-style: none;
				width: 330px;
				height: 330px;
			}
			li{
				float: left;
				height: 100px;
				width: 100px;
				font: 40px/100px "微软雅黑";
				text-align: center;
				background-color: pink;
				margin: 5px;
			}
		</style>
	</head>
	<body>
		<ul class="list">
			<li>1</li>
			<li>2</li>
			<li>3</li>
			<li>4</li>
			<li>5</li>
			<li>6</li>
			<li>7</li>
			<li>8</li>
			<li>9</li>
		</ul>
		<!--
			布局转换：把一种css布局（一般是浮动）转换成定位布局
		-->
		<script type="text/javascript">
			function drag(obj){
				obj.onmousedown = function(ev){
					var disX = ev.clientX - obj.offsetLeft;
					var disY = ev.clientY - obj.offsetTop;
					document.onmousemove = function(ev){
						obj.style.left = ev.clientX - disX + "px";
						obj.style.top = ev.clientY - disY + "px";
					};
					document.onmouseup = function(){
						document.onmousemove = null;
					};
					return false;
				};
			}
			
			var lis = document.getElementsByTagName("li");
			for (var i = 0; i < lis.length; i++) {
				drag(lis[i]);
				lis[i].style.left = lis[i].offsetLeft + "px";
				lis[i].style.top = lis[i].offsetTop + "px";
//				lis[i].style.float = "none";
//				lis[i].style.margin = "0px";
			}
			for (var i = 0; i < lis.length; i++) { //因JS解析与CSS渲染问题，不能写在同一层循环中
				lis[i].style.position = "absolute";
			}
		</script>
	</body>
</html>
